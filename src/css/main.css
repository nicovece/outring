@import "tailwindcss";

@custom-variant dark (:is(.dark &):not(.print &));

@font-face {
	font-family: InterVariable;
	font-style: normal;
	font-weight: 100 900;
	font-display: swap;
	src: url("/fonts/InterVariable.woff2") format("woff2");
}
@font-face {
	font-family: InterVariable;
	font-style: italic;
	font-weight: 100 900;
	font-display: swap;
	src: url("/fonts/InterVariable-Italic.woff2") format("woff2");
}

@theme {
	/* Colors */
	--color-*: initial;
	--color-black: #000000;
	--color-white: #ffffff;
	--color-gray-50: #fafbfa; /* vs #f9fafb - warmer, less blue */
	--color-gray-100: #f4f6f4; /* vs #f3f4f6 - subtle green hint */
	--color-gray-200: #e7ebe8; /* vs #e5e7eb - warmer, olive-ish */
	--color-gray-300: #d3d8d4; /* vs #d1d5db - green-gray balance */
	--color-gray-500: #6d7570; /* vs #6b7280 - warm gray, less blue */
	--color-gray-600: #4f5854; /* vs #4b5563 - olive-gray */
	--color-gray-700: #3a403c; /* vs #374151 - warm charcoal */
	--color-gray-800: #252b27; /* vs #1f2937 - deep forest-gray */
	--color-gray-900: #151a17; /* vs #111827 - almost black-green */
	--color-gray-1000: #000000;

	--color-accent: #00aa8f;
	--color-accent-dark: color-mix(in oklch, var(--color-accent), black 10%);

	/* Typography */
	--font-sans: "InterVariable", system-ui, -apple-system, sans-serif;

	/* Spacing base */
	--spacing: 8px;

	--max-width: 90vw;
}

@view-transition {
	navigation: auto;
}

@layer base {
	/* Enable dark mode with class strategy */
	:root {
		color-scheme: light;
	}

	:root.dark {
		color-scheme: dark;
	}

	body {
		@apply min-h-screen bg-white text-black antialiased;
		@apply dark:bg-gray-900 dark:text-gray-100;
	}

	h1,
	h2,
	h3,
	h4,
	h5,
	h6 {
		text-wrap: balance;
	}

	img,
	picture {
		@apply block max-w-full;
	}

	b,
	strong {
		@apply font-semibold;
	}

	:focus-visible {
		@apply outline-2 outline-offset-2 outline-black;
		@apply dark:outline-white;
	}
}

/* Note: FOUC may occur in dev mode (Vite CSS injection)
Production with Blitz caching eliminates this */

.js-loaded [data-reveal-item] {
	opacity: 0;
}

@layer components {
	/* Layout Components */

	.container-full {
		@apply mx-auto;
	}
	.container-wide {
		@apply mx-auto max-w-(--max-width) px-1 py-4 md:px-4;
	}
	.container-medium {
		@apply mx-auto max-w-5xl px-1 py-4 md:px-4;
	}
	.container-inColumn {
		@apply mx-auto max-w-xl px-1 py-4 md:px-4;
	}

	.container-content {
		/* TODO: Remove this */
		@apply mx-auto max-w-4xl px-1 py-16 md:px-4;
	}

	.container-nav {
		@apply mx-auto max-w-(--max-width) px-1 py-4 md:px-4;
	}

	/* Links */
	.link-inline {
		@apply block w-fit border-b border-accent/50 font-medium;
		@apply transition duration-200;
		@apply hover:border-accent hover:text-accent;
		@apply my-2 md:ml-2 md:inline;
	}

	/* Card Components */

	.card-experience {
		@apply shadow-accent/30 transition hover:shadow-sm;
	}

	.card-theme {
		@apply rounded-lg border border-gray-200 p-6 transition hover:shadow-lg;
	}

	/* Content Components */

	.content-column-main {
		@apply max-w-xl 2xl:max-w-2xl;
	}

	.prose-block {
		@apply mb-6;
	}

	/* Before/After Slider Component - Start */

	.before-after {
		@apply relative select-none [--reveal:50%];
	}

	.before-after__container {
		@apply relative aspect-[16/9] overflow-hidden bg-accent/10 dark:bg-accent/5;
	}

	/* Images */
	.before-after__image {
		@apply pointer-events-none absolute top-0 left-0 h-full w-full object-cover;
	}

	.before-after__image--before {
		@apply z-[1];
	}

	.before-after__image--after {
		@apply z-[2] [clip-path:inset(0_0_0_var(--reveal))];
	}

	/* Divider Line */
	.before-after__divider {
		@apply pointer-events-none absolute top-0 [left:var(--reveal)] z-[3] h-full w-0.5 -translate-x-1/2 bg-accent;
	}

	.before-after__handle {
		@apply pointer-events-auto absolute top-1/2 left-1/2 flex h-10 w-10 -translate-x-1/2 -translate-y-1/2 cursor-ew-resize items-center justify-center rounded-full bg-accent text-white shadow-[0_2px_8px_rgba(0,0,0,0.2)] transition-all ease-in-out;
	}

	/* Range Slider (fallback, hidden when JS enhanced) */
	.before-after__slider {
		@apply mt-4 w-full cursor-pointer;
	}

	.before-after[data-enhanced] .before-after__slider {
		@apply hidden;
	}

	/* Labels */

	/* Remove these rules - handle with group classes in HTML instead */
	/* 
	.before-after__container:hover .before-after__handle {
		background-color: #f9fafb;
	}
	
	.before-after__container:active .before-after__handle {
		transform: translate(-50%, -50%) scale(1.1);
	}
	
	.before-after:focus-within .before-after__handle {
		outline: 2px solid #3b82f6;
		outline-offset: 2px;
	}
	*/

	/* Before/After Slider Component - End */

	/* Theme Toggle Component - Start */
	.moon-icon {
		display: block;
	}

	.sun-icon {
		display: none;
	}

	/* Show sun in dark mode, hide moon */
	.dark .moon-icon {
		display: none;
	}

	.dark .sun-icon {
		display: block;
	}
	/* Theme Toggle Component - End */
}
