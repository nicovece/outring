{% extends "_layouts/base.twig" %}

{% block title %}
	{{ category.title }} - Experiences - {{ siteName }}
{% endblock %}

{% block content %}
	{% include "_modules/page-header" with {
		title: category.title,
		text: category.text ?? null,
		sectionWidth: "wide"
	} only %}

	<section>
		{% set experiences =
			craft.entries().section("experiences").relatedTo(category).with(["featuredImage", "place", "themes"]).orderBy(
				"dateOfExperience DESC"
			).all()
		%}

		<div
			class="container-full flex flex-col gap-8 bg-accent/10 p-2 md:p-4 lg:grid lg:grid-cols-2 2xl:p-8 dark:bg-accent/5"
		>
			{% if experiences|length %}
				{% for experience in experiences %}
					{% include "_partials/entry/experience-card" with {
						experience: experience
					} only %}
				{% endfor %}
			{% else %}
				<p class="text-gray-600">
					No experiences with this phase yet.
				</p>
			{% endif %}
		</div>
	</section>
{% endblock %}
