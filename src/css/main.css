@import "tailwindcss";

@theme {
	/* Colors */
	--color-*: initial;
	--color-black: #000000;
	--color-white: #ffffff;

	/* Typography */
	--font-sans: system-ui, -apple-system, sans-serif;

	/* Spacing base */
	--spacing: 8px;
}

@layer base {
	body {
		@apply min-h-screen bg-white text-black antialiased;
	}

	h1,
	h2,
	h3,
	h4,
	h5,
	h6 {
		text-wrap: balance;
	}

	img,
	picture {
		@apply block max-w-full;
	}

	:focus-visible {
		@apply outline-2 outline-offset-2 outline-black;
	}
}

@layer components {
	/* ========================================
     Before/After Slider Component
     ======================================== */

	.before-after {
		--reveal: 50%; /* Default reveal position */
		position: relative;
		user-select: none;
	}

	.before-after__container {
		position: relative;
		overflow: hidden;
		border-radius: 0.5rem;
		background-color: #f3f4f6;
		aspect-ratio: 16 / 9; /* Default, will be overridden by images */
	}

	/* Images */
	.before-after__image {
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		object-fit: cover;
		pointer-events: none;
	}

	.before-after__image--before {
		z-index: 1;
	}

	.before-after__image--after {
		z-index: 2;
		clip-path: inset(0 0 0 var(--reveal));
	}

	/* Divider Line */
	.before-after__divider {
		position: absolute;
		top: 0;
		left: var(--reveal);
		transform: translateX(-50%);
		width: 2px;
		height: 100%;
		background-color: white;
		z-index: 3;
		pointer-events: none;
	}

	/* Handle (drag circle) */
	.before-after__handle {
		position: absolute;
		top: 50%;
		left: 50%;
		transform: translate(-50%, -50%);
		width: 48px;
		height: 48px;
		background-color: white;
		border-radius: 50%;
		box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
		display: flex;
		align-items: center;
		justify-content: center;
		color: #374151;
		cursor: ew-resize;
		pointer-events: auto;
	}

	.before-after__handle svg {
		width: 24px;
		height: 24px;
	}

	/* Range Slider (fallback, hidden when JS enhanced) */
	.before-after__slider {
		width: 100%;
		margin-top: 1rem;
		cursor: pointer;
	}

	.before-after[data-enhanced] .before-after__slider {
		display: none;
	}

	/* Labels */
	.before-after__labels {
		display: flex;
		justify-content: space-between;
		margin-top: 0.5rem;
		font-size: 0.875rem;
		color: #6b7280;
		font-weight: 500;
	}

	/* Interactive States */
	.before-after__container:hover .before-after__handle {
		background-color: #f9fafb;
	}

	.before-after__container:active .before-after__handle {
		transform: translate(-50%, -50%) scale(1.1);
	}

	/* Focus visible (keyboard navigation) */
	.before-after:focus-within .before-after__handle {
		outline: 2px solid #3b82f6;
		outline-offset: 2px;
	}
}
