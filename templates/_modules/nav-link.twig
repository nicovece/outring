{# Navigation Link Component
  Renders a styled navigation link with active state detection
  
  Parameters:
  - url: The URL for the link
  - label: The text to display
  - currentSegment: The current URL segment for active state
#}

{% set urlPath = url|replace({(siteUrl): ''})|trim('/', 'left')|trim('/') %}
{% set urlSegment = urlPath|split('/')|first %}
{% set isActive = currentSegment == urlSegment %}

{# Organize styles by purpose #}
{% set linkStyles = {
  base: "block transition-colors duration-300 relative",
  hover: "hover:text-accent-dark dark:hover:text-accent",
  active: "border-accent after:h-[1px] after:bg-accent/50 dark:after:bg-accent",
  inactive: "border-transparent",
  after: "after:content-[''] after:block after:absolute after:h-0 after:right-0  after:-bottom-[2px] after:left-0 after:bg-accent after:z-[-1] after:transition-all  after:ease-in-out hover:after:h-[3px] hover:after:bg-accent"
} %}

<a
  href="{{ url }}"
  {% if isActive %}aria-current="page"{% endif %}
  class="{{ linkStyles.base }} {{ linkStyles.hover }} {{ isActive ? linkStyles.active : linkStyles.inactive }} {{ linkStyles.after }}"
>
  {{ label }}
</a>